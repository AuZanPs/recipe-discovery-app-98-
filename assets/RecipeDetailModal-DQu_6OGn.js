import{r as a,j as e}from"./index-2bXVXZ6T.js";const h=({meal:n,onClose:r})=>{const c=a.useRef(null),o=a.useRef(document.activeElement);return a.useEffect(()=>{const i=s=>{if(s.key==="Escape")r();else if(s.key==="Tab"){if(!c.current)return;const t=c.current.querySelectorAll('button, [href], select, input, [tabindex]:not([tabindex="-1"])');if(!t.length)return;const l=t[0],d=t[t.length-1];s.shiftKey&&document.activeElement===l?(s.preventDefault(),d.focus()):!s.shiftKey&&document.activeElement===d&&(s.preventDefault(),l.focus())}};return document.addEventListener("keydown",i),setTimeout(()=>{var t;const s=(t=c.current)==null?void 0:t.querySelector("button, [href], [tabindex]");s==null||s.focus()},0),()=>{var s;document.removeEventListener("keydown",i),(s=o.current)==null||s.focus()}},[r]),e.jsx("div",{className:"recipe-detail-overlay",onClick:r,children:e.jsxs("div",{ref:c,className:"window recipe-detail",role:"dialog","aria-modal":"true","aria-label":n.name,onClick:i=>i.stopPropagation(),children:[e.jsxs("div",{className:"title-bar",children:[e.jsx("div",{className:"title-bar-text",children:n.name}),e.jsx("div",{className:"title-bar-controls",children:e.jsx("button",{"aria-label":"Close",onClick:r})})]}),e.jsxs("div",{className:"window-body recipe-content",children:[e.jsxs("div",{className:"recipe-header",children:[e.jsx("img",{src:n.thumbnail,alt:n.name,className:"recipe-image"}),e.jsxs("div",{className:"recipe-meta",children:[e.jsxs("div",{className:"field-row",children:[e.jsx("label",{children:"Category:"}),e.jsx("span",{children:n.category||"Uncategorized"})]}),e.jsxs("div",{className:"field-row",children:[e.jsx("label",{children:"Area:"}),e.jsx("span",{children:n.area||"Global"})]}),n.tags.length>0&&e.jsxs("div",{className:"field-row",children:[e.jsx("label",{children:"Tags:"}),e.jsx("span",{children:n.tags.join(", ")})]}),n.youtube&&e.jsx("button",{onClick:()=>window.open(n.youtube,"_blank"),children:"Video"}),n.source&&e.jsx("button",{onClick:()=>window.open(n.source,"_blank"),children:"Source"})]})]}),e.jsxs("div",{className:"recipe-sections",children:[e.jsxs("div",{className:"ingredients-section",children:[e.jsx("h3",{children:"Ingredients"}),e.jsx("div",{className:"sunken-panel ingredients-list",children:n.ingredients.map((i,s)=>e.jsxs("div",{className:"ingredient-item",children:[e.jsx("span",{className:"ingredient-measure",children:i.measure}),e.jsx("span",{className:"ingredient-name",children:i.name})]},s))})]}),e.jsxs("div",{className:"instructions-section",children:[e.jsx("h3",{children:"Instructions"}),e.jsx("div",{className:"sunken-panel instructions-text",children:n.instructions.split(`
`).map((i,s)=>e.jsx("p",{style:{marginBottom:i.trim()?8:4},children:i},s))})]})]})]})]})})};export{h as RecipeDetailModal};
